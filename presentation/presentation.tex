\documentclass[10pt]{beamer}
\usepackage{tkz-graph}
\usepackage{fancyvrb}
\usepackage{amsmath}
\usetheme{Hannover}
\usecolortheme{whale}

\usepackage{verbatim}
\usetikzlibrary{arrows,shapes}
\usetikzlibrary{decorations.pathreplacing}

\makeatletter
\newenvironment<>{proofwithoutbox}[1][\proofname]{%
    \par
    \def\insertproofname{#1\@addpunct{.}}%
    \usebeamertemplate{proof begin}#2}
  {\usebeamertemplate{proof end}}
\makeatother

\title[Pattern avoidance]{Pattern avoidance}
\subtitle{An explanation and proof}
\author[Jain, Narayanan and Zhang]{Yajit Jain, Deepak Narayanan and Leon Zhang}
\date[November 2014]{November 14, 2014}

\RecustomVerbatimCommand{\VerbatimInput}{VerbatimInput}%
{fontsize=\tiny,
 commentchar=*        % comment character
}

\begin{document}

\pgfdeclarelayer{background}
\pgfsetlayers{background,main}

\tikzstyle{vertex}=[circle,fill=black!25,minimum size=20pt,inner sep=0pt]
\tikzstyle{selected vertex} = [vertex, fill=red!24]
\tikzstyle{completed vertex} = [vertex, fill=yellow]
\tikzstyle{edge} = [draw,thick,-]
\tikzstyle{weight} = [font=\small]
\tikzstyle{selected edge} = [draw,line width=5pt,-,red!50]
\tikzstyle{ignored edge} = [draw,line width=5pt,-,black!20]

\begin{frame}
  \titlepage
\end{frame}

\section{Introduction}


\begin{frame}{}
\begin{definition}
A finite sequence of distinct positive integers $a_1a_2\cdots a_n$ avoids another finite sequence of distinct positive integers $b_1\cdots b_k$ with $n\ge k$ if no subsequence $a_{i_1}a_{i_2}\cdots a_{i_k}$ of $a_1a_2\cdots a_n$ has its terms in the same relative order as $b_1\cdots b_k$. 
\end{definition}

\

\

\

Examples!
\end{frame}

\begin{frame}
Given $k$ and $n$, how many permutations of the set $\{1,\cdots, n\}$ avoid a given permutation of the set $\{1,\cdots, k\}$?\

\

\begin{definition}
Let $\pi$ be a permutation of length $k$. Then
$$
s_n(\pi)=\#\{\text{the set of permutations of $\{1,\cdots, n\}$ that avoid $\pi$}\}.
$$
\end{definition}

\

{\color{blue} We are going to compute sequences $(s_n(\pi))$}.
\end{frame}

\begin{frame}{Formalities}
\begin{definition}
A permutation of a set $D$ is a bijective map from $D$ to itself. 
\end{definition}
\

\

\

\begin{definition}
$S_n$ is the {\color{red}set} of permutations of $\{1,\cdots, n\}$. 
\end{definition}
\end{frame}

\begin{frame}{Example}
Take $\sigma\in S_5$ with
$$
\sigma=\begin{pmatrix}
1&2&3&4&5\\
\downarrow&\downarrow&\downarrow&\downarrow&\downarrow&\\
4&5&2&1&3
\end{pmatrix}
$$

\

\

\

\begin{columns}
\begin{column}{.5\textwidth}
\centering{\underline{One-line Notation}}
$$
\sigma=45213
$$
\end{column}
\vrule{}
\begin{column}{.5\textwidth}
\centering{\underline{Cycle Notation}}
$$
\sigma=(14)(253)
$$
\end{column}
\end{columns}

\end{frame}

%%%%

\begin{frame}{Example}
Take $\sigma\in S_5$ with
$$
\sigma=\begin{pmatrix}
1&2&3&4&5\\
\downarrow&\downarrow&\downarrow&\downarrow&\downarrow&\\
\color{red}4&\color{red}5&\color{red}2&\color{red}1&\color{red}3
\end{pmatrix}
$$

\

\

\

\begin{columns}
\begin{column}{.5\textwidth}
\centering{\underline{One-line Notation}}
\color{red}$$
\sigma=45213
$$
\end{column}
\vrule{}
\begin{column}{.5\textwidth}
\centering{\underline{Cycle Notation}}
$$
\sigma=(14)(253)
$$
\end{column}
\end{columns}

\end{frame}

%%%%%

\begin{frame}{Example}
Take $\sigma\in S_5$ with
$$
\sigma=\begin{pmatrix}
1&2&3&4&5\\
\color{red}\downarrow&\downarrow&\downarrow&\color{red}\downarrow&\downarrow&\\
4&5&2&1&3
\end{pmatrix}
$$

\

\

\

\begin{columns}
\begin{column}{.5\textwidth}
\centering{\underline{One-line Notation}}
$$
\sigma=45213
$$
\end{column}
\vrule{}
\begin{column}{.5\textwidth}
\centering{\underline{Cycle Notation}}
$$
\sigma={\color{red}(14)}(253)
$$
\end{column}
\end{columns}

\end{frame}


%%%%%%

\begin{frame}{Example}
Take $\sigma\in S_5$ with
$$
\sigma=\begin{pmatrix}
1&2&3&4&5\\
\color{red}\downarrow&\color{green}\downarrow&\color{green}\downarrow&\color{red}\downarrow&\color{green}\downarrow&\\
4&5&2&1&3
\end{pmatrix}
$$

\

\

\

\begin{columns}
\begin{column}{.5\textwidth}
\centering{\underline{One-line Notation}}
$$
\sigma=45213
$$
\end{column}
\vrule{}
\begin{column}{.5\textwidth}
\centering{\underline{Cycle Notation}}
$$
\sigma={\color{red}(14)}{\color{green}(253)}
$$
\end{column}
\end{columns}

\end{frame}

%%%%%%

\begin{frame}{\color{red}Main Result}
\begin{definition}[Recall]
Let $\pi$ be a permutation of length $k$. Then
$$
s_n(\pi)=\#\{\text{the set of permutations in $S_n$ that avoid $\pi$}\}.
$$
\end{definition}

\


\begin{Theorem}
For $\pi\in S_3$, $(s_n(\pi))$ is equal to the Catalan numbers:
$$
(s_n(\pi))=1,2,5,14,42,132,429...
$$
\end{Theorem}
\end{frame}

%%%%%%


\begin{frame}{Conjectures for $\pi\in S_4$}
$$
(s_n(\pi))=\left\{
	\begin{array}{ll}
A:=1,2,6,23,103,512,2740,15485,91245\ldots\\
B:=1,2,6,23,103,513,2761,15767,94359\ldots\\
C:=1,2,6,23,103,513,2762,15793,94776\ldots
	\end{array}
\right\}
$$

\begin{center}
\begin{tabular}{|c|c|c|}
B &A&C\\
\hline
(1)(2)(3)(4),(14)(23)&(243),(142)&(23),(14)\\
(34),(1423)&(234),(143)&\\
(24),(1432)&(124),(132)&\\
(12),(1324)&(123),(134)&\\
(12)(34),(13)(24)&(1243),(1342)&\\
(1234),(13)&&\\
\end{tabular}
\end{center}

\end{frame}

%%%%%%

\section{Avoidance in $S_n$}

\subsection{Avoidance of $312$}

\begin{frame}{Avoidance of $312$}
Let's first look at some examples of permutations that don't avoid $312$!
\pause
\begin{example}
\

\begin{tikzpicture}[
    implies/.style={double,double equal sign distance,-implies},
]
\onslide<2>{
  \node at (1,0) (num1) {1};
  \node at (1.5,0) (num2) {2};
  \node at (2,0) (num3) {6};
  \node at (2.5,0) (num4) {5};
  \node at (3,0) (num5) {3};
  \node at (3.5,0) (num6) {4};}

\onslide<3->{
  \node at (1,0) (num1) {1};
  \node at (1.5,0) (num2) {2};
  \node at (2,0) (num3) {\color{red}6};
  \node at (2.5,0) (num4) {5};
  \node at (3,0) (num5) {\color{red}3};
  \node at (3.5,0) (num6) {\color{red}4};
  
  \draw[implies,implies-] (5,0) -- (4,0);
  \node at (7.5,0) (description) {\text{$126534$} does not avoid $312$};}
\end{tikzpicture}

\end{example}

\begin{example}<4->
\

\begin{tikzpicture}[
    implies/.style={double,double equal sign distance,-implies},
]
\onslide<4>{
  \node at (1,0) (num1) {1};
  \node at (1.5,0) (num2) {5};
  \node at (2,0) (num3) {6};
  \node at (2.5,0) (num4) {3};
  \node at (3,0) (num5) {2};
  \node at (3.5,0) (num6) {4};}
 
\onslide<5->{
  \node at (1,0) (num1) {1};
  \node at (1.5,0) (num2) {\color{red}5};
  \node at (2,0) (num3) {6};
  \node at (2.5,0) (num4) {\color{red}3};
  \node at (3,0) (num5) {2};
  \node at (3.5,0) (num6) {\color{red}4};
  
  \draw[implies,implies-] (5,0) -- (4,0);
  \node at (7.5,0) (description) {\text{$156324$} does not avoid $312$};}
\end{tikzpicture}

\end{example}
\end{frame}

\begin{frame}{Avoidance of $312$}
How about some permutations that do avoid $312$?
\pause
\begin{example}
\

\begin{tikzpicture}[
    implies/.style={double,double equal sign distance,-implies},
]
\onslide<2->{
  \node at (1,0) (num1) {1};
  \node at (1.5,0) (num2) {2};
  \node at (2,0) (num3) {3};
  \node at (2.5,0) (num4) {6};
  \node at (3,0) (num5) {5};
  \node at (3.5,0) (num6) {4};}

\onslide<3->{
  
  \draw[implies,implies-] (5,0) -- (4,0);
  \node at (6.8,0) (description) {\text{$123654$ \color{green}{avoids} \color{black}$312$}};}
\end{tikzpicture}

\end{example}

\begin{example}<4->
\

\begin{tikzpicture}[
    implies/.style={double,double equal sign distance,-implies},
]
\onslide<4->{
  \node at (1,0) (num1) {2};
  \node at (1.5,0) (num2) {1};
  \node at (2,0) (num3) {4};
  \node at (2.5,0) (num4) {5};
  \node at (3,0) (num5) {6};
  \node at (3.5,0) (num6) {3};}

\onslide<5->{
  
  \draw[implies,implies-] (5,0) -- (4,0);
  \node at (6.8,0) (description) {\text{$214563$ \color{green}{avoids} \color{black}$312$}};}
\end{tikzpicture}

\end{example}
\end{frame}

\begin{frame}{Avoidance of $312$}
\textbf{Do the permutations that avoid $312$ have any special properties?}

\

\color{black}

\begin{tikzpicture}[
    implies/.style={double,double equal sign distance,-implies},
]
\onslide<2->{
  \node at (1,0) (num1) {1};
  \node at (2,0) (num2) {2};
  \node at (3,0) (num3) {3};
  \node at (4,0) (num4) {6};
  \node at (5,0) (num5) {5};
  \node at (6,0) (num6) {4};}
  
  \onslide<3->{
  \node at (1, -2) (desc1) {\text{All $< 4$, and avoid $312$}};
  \draw [decorate,decoration={brace,amplitude=5pt, mirror}] (1,-0.5) -- (3,-0.5);
  \draw[-latex] (2, -0.8) -- (desc1);
  \node at (6,0) (num6) {\color{blue}4};
  }
  
  \onslide<4->{
  \node at (6, -2) (desc2) {\text{All $> 4$, and avoid $312$}};  
  \draw [decorate,decoration={brace,amplitude=5pt, mirror}] (4,-0.5) -- (5,-0.5);
  \draw[-latex] (4.5, -0.8) -- (desc2);}

\end{tikzpicture}

\


\begin{tikzpicture}[
    implies/.style={double,double equal sign distance,-implies},
]
\onslide<5->{
 \node at (1,0) (num1) {2};
  \node at (2,0) (num2) {1};
  \node at (3,0) (num3) {4};
  \node at (4,0) (num4) {5};
  \node at (5,0) (num5) {6};
  \node at (6,0) (num6) {3};}
  
  \onslide<6->{
  \node at (1, -2) (desc1) {\text{All $< 3$, and avoid $312$}};
  \draw [decorate,decoration={brace,amplitude=5pt, mirror}] (1,-0.5) -- (2,-0.5);
   \draw[-latex] (1.5, -0.8) -- (desc1);
   \node at (6,0) (num6) {\color{blue}3};}
   
  \onslide<7->{
  \node at (6, -2) (desc2) {\text{All $> 3$, and avoid $312$}};
  \draw [decorate,decoration={brace,amplitude=5pt, mirror}] (3,-0.5) -- (5,-0.5);
  \draw[-latex] (4, -0.8) -- (desc2);}

\end{tikzpicture}

\end{frame}

\begin{frame}{Avoidance of $312$}
\begin{lemma}
The permutations of $\{1,2,\dots,k,k+1\}$ ending in $i$ that avoid the pattern $312$ are precisely those of the form,
$$\pi_1 \pi_2 i$$
the concatenation of $\pi_1, \pi_2$, and $i$, where $\pi_1$ is a permutation of $\{1,2,\ldots,i-1\}$ that avoids the pattern $312$ and $\pi_2$ is a permutation of $\{i+1,\ldots,k+1\}$ that avoids the pattern $312$.
\end{lemma}
\end{frame}


\begin{frame}{Avoidance of $312$}
\begin{definition}
The Catalan numbers are the sequence of positive integers $C_i$ defined as follows,
$$C_0=1, \, C_{n+1}=\sum_{i=0}^n C_iC_{n-i} \, \text{for} \; n \geq 0$$
\end{definition}
\end{frame}

\begin{frame}{Avoidance of $312$}
\begin{theorem}
The $n^{th}$ term of the sequence $s_n(312)$ is equal to $C_n$, the $n^{th}$ Catalan number, for $n>0$.
\end{theorem}
\end{frame}

\begin{frame}{Avoidance of $312$}
\begin{proof}
Assume that for all $i$ from $1$ to $k$, the number of permutations of $\{1,2,...,i\}$ that avoid $312$ is $C_i$.

It follows from the above lemma that the total number of permutations $\pi$ avoiding $312$ and ending in $i$ is
$$C_{i-1} \cdot C_{k-i+1}$$

Summing over all possible values of $i$, the total number of permutations of $\{1,2,...,k+1\}$ that avoid $312$ is equal to,
$$\sum_{i=1}^{k+1} C_{i-1} \cdot C_{k-i+1} = \sum_{i=0}^k C_i \cdot C_{k-i} = C_{k+1}$$
\end{proof}
\end{frame}

\subsection{The Reversing Lemma}

\begin{frame}{The Reversing Lemma}
\begin{definition}[Reversing]
We define the \emph{reverse} of a permutation $a_1\cdots a_n$ to be the permutation $a_n\cdots a_1$.  The reversing operator is denoted by $\mathcal{R}$.  
\end{definition}

\begin{example}
$\mathcal{R}(1324)=4231$.
\end{example}

\begin{example}
$\mathcal{R}(1243)=3421$.
\end{example}

\end{frame}

\begin{frame}{The Reversing Lemma}

\begin{lemma}[Reversing Lemma]
The permutation $\sigma$ avoids the permutation $\pi$ iff $\mathcal{R}(\sigma)$ avoids $\mathcal{R}(\pi)$.
\end{lemma}

\begin{corollary} 
For a permutation $\pi$, $s_n(\pi)=s_n(\mathcal{R}(\pi))$. 
\end{corollary}

\end{frame}

\subsection{The Flipping Lemma}

\begin{frame}{The Flipping Lemma}
\begin{definition}[Flipping]
We define the \emph{flip} of a sequence $a$ as the sequence $b$ with the same elements as $a$, but with the largest element swapped with the smallest element, the second largest element swapped with the second smallest element, etc.  The flipping operator is denoted by $\mathcal{F}$.  
\end{definition}

\end{frame}

\begin{frame}{The Flipping Lemma}

\begin{example}
\begin{tikzpicture}[
    implies/.style={double,double equal sign distance,-implies},
]
  \node at (1,0) (num1) {1};
  \node at (2,0) (num2) {2};
  \node at (3,0) (num3) {3};
  \node at (4,0) (num4) {4};
  \draw (num1) edge[out=60,in=120,<->] (num4);
  \draw (num2) edge[out=60,in=120,<->] (num3);
  
  \node at (7,0) (num5) {4};
  \node at (8,0) (num6) {3};
  \node at (9,0) (num7) {2};
  \node at (10,0) (num8) {1};
  \draw[implies,implies-] (6,0) -- (5,0);
\end{tikzpicture}

$$\mathcal{F}(1234) = 4321$$

\end{example}

\begin{example}
\begin{tikzpicture}[
    implies/.style={double,double equal sign distance,-implies},
]
  \node at (1,0) (num1) {1};
  \node at (2,0) (num2) {2};
  \node at (3,0) (num3) {4};
  \node at (4,0) (num4) {3};
  \draw (num1) edge[out=60,in=120,<->] (num3);
  \draw (num2) edge[out=60,in=120,<->] (num4);
  
  \node at (7,0) (num5) {4};
  \node at (8,0) (num6) {3};
  \node at (9,0) (num7) {1};
  \node at (10,0) (num8) {2};
  \draw[implies,implies-] (6,0) -- (5,0);
\end{tikzpicture}

$$\mathcal{F}(1243) = 4312$$

\end{example}

\end{frame}

\begin{frame}{The Flipping Lemma}

\begin{columns}
\begin{column}{.5\textwidth}
\begin{center}
\begin{tikzpicture}
\node at (0.5,5.7) (num1) {1};
\node at (1.5,5.7) (num2) {2};
\node at (2.5,5.7) (num3) {3};
\node at (3.5,5.7) (num4) {4};

\draw [->] (num1) -- (0.5,5.1);
\draw [->] (num2) -- (1.5,5.1);
\draw [->] (num3) -- (2.5,5.1);
\draw [->] (num4) -- (3.5,5.1);

\onslide<2->{
\node at (0.5,-0.7) (num5) {4};
\draw [->] (num5) -- (0.5,-0.1);

\filldraw[blue, draw=black] (0,0) rectangle (1,1);
\filldraw[blue, draw=black] (0,1) rectangle (1,2);
\filldraw[blue, draw=black] (0,2) rectangle (1,3);
\filldraw[blue, draw=black] (0,3) rectangle (1,4);
}

\onslide<3->{
\node at (1.5,-0.7) (num6) {3};
\draw [->] (num6) -- (1.5,-0.1);

\filldraw[blue, draw=black] (1,0) rectangle (2,1);
\filldraw[blue, draw=black] (1,1) rectangle (2,2);
\filldraw[blue, draw=black] (1,2) rectangle (2,3);
}

\onslide<4->{
\node at (2.5,-0.7) (num7) {2};
\draw [->] (num7) -- (2.5,-0.1);

\filldraw[blue, draw=black] (2,0) rectangle (3,1);
\filldraw[blue, draw=black] (2,1) rectangle (3,2);
}

\onslide<5->{
\node at (3.5,-0.7) (num8) {1};
\draw [->] (num8) -- (3.5,-0.1);

\filldraw[blue, draw=black] (3,0) rectangle (4,1);
}

\onslide<1->{
\filldraw[red, draw=black] (0,4) rectangle (1,5);
\filldraw[red, draw=black] (1,4) rectangle (2,5);
\filldraw[red, draw=black] (1,3) rectangle (2,4);
\filldraw[red, draw=black] (2,4) rectangle (3,5);
\filldraw[red, draw=black] (2,3) rectangle (3,4);
\filldraw[red, draw=black] (2,2) rectangle (3,3);
\filldraw[red, draw=black] (3,4) rectangle (4,5);
\filldraw[red, draw=black] (3,3) rectangle (4,4);
\filldraw[red, draw=black] (3,2) rectangle (4,3);
\filldraw[red, draw=black] (3,1) rectangle (4,2);}
\end{tikzpicture}
\end{center}
\onslide<6->{
$$
\mathcal{F}(1234) = 4321
$$
}
\end{column}
\begin{column}{.5\textwidth}
\begin{center}
\begin{tikzpicture}
\onslide<7->{
\node at (0.5,5.7) (num1) {1};
\node at (1.5,5.7) (num2) {2};
\node at (2.5,5.7) (num3) {4};
\node at (3.5,5.7) (num4) {3};

\draw [->] (num1) -- (0.5,5.1);
\draw [->] (num2) -- (1.5,5.1);
\draw [->] (num3) -- (2.5,5.1);
\draw [->] (num4) -- (3.5,5.1);
}

\onslide<8->{
\node at (0.5,-0.7) (num5) {4};
\draw [->] (num5) -- (0.5,-0.1);

\filldraw[blue, draw=black] (0,0) rectangle (1,1);
\filldraw[blue, draw=black] (0,1) rectangle (1,2);
\filldraw[blue, draw=black] (0,2) rectangle (1,3);
\filldraw[blue, draw=black] (0,3) rectangle (1,4);
}

\onslide<9->{
\node at (1.5,-0.7) (num6) {3};
\draw [->] (num6) -- (1.5,-0.1);

\filldraw[blue, draw=black] (1,0) rectangle (2,1);
\filldraw[blue, draw=black] (1,1) rectangle (2,2);
\filldraw[blue, draw=black] (1,2) rectangle (2,3);
}

\onslide<10->{
\node at (2.5,-0.7) (num7) {1};
\draw [->] (num7) -- (2.5,-0.1);

\filldraw[blue, draw=black] (2,0) rectangle (3,1);
}

\onslide<11->{
\node at (3.5,-0.7) (num8) {2};
\draw [->] (num8) -- (3.5,-0.1);


\filldraw[blue, draw=black] (3,1) rectangle (4,2);
\filldraw[blue, draw=black] (3,0) rectangle (4,1);
}

\onslide<7->{
\filldraw[red, draw=black] (0,4) rectangle (1,5);
\filldraw[red, draw=black] (1,4) rectangle (2,5);
\filldraw[red, draw=black] (1,3) rectangle (2,4);
\filldraw[red, draw=black] (2,4) rectangle (3,5);
\filldraw[red, draw=black] (2,3) rectangle (3,4);
\filldraw[red, draw=black] (2,2) rectangle (3,3);
\filldraw[red, draw=black] (2,1) rectangle (3,2);
\filldraw[red, draw=black] (3,4) rectangle (4,5);
\filldraw[red, draw=black] (3,3) rectangle (4,4);
\filldraw[red, draw=black] (3,2) rectangle (4,3);
}
\end{tikzpicture}
\end{center}
\onslide<12->{
$$
\mathcal{F}(1243) = 4312
$$
}
\end{column}
\end{columns}


\end{frame}

\begin{frame}{The Flipping Lemma}
\begin{lemma}[Flipping Lemma]
The permutation $\sigma$ avoids the permutation $\pi$ iff $\mathcal{F}(\sigma)$ avoids $\mathcal{F}(\pi)$.
\end{lemma}

\begin{proof}
Need to only prove one direction.

Suppose $\mathcal{F}(\sigma)$ does not avoid $\mathcal{F}(\pi)$ if $\sigma$ avoids $\pi$. (Here, $\sigma \in S_n$ and $\pi \in S_k$)

Let $\mathcal{F}(\sigma)=a_1\cdots a_n$. Then $a_1 \cdots a_n$ has some length-$k$ subsequence $a_{i_1}\cdots a_{i_k}$ in the same order as $\mathcal{F}(\pi)$.

But then, the subsequence of $\sigma$ with indices $i_1 \cdots i_k$ is in the same order as $\mathcal{F}(\mathcal{F}(\pi)) = \pi$, a contradiction!
\end{proof}

\begin{corollary} 
For a permutation $\pi$, $s_n(\pi)=s_n(\mathcal{F}(\pi))$. 
\end{corollary}

\end{frame}

\subsection{Avoidance of other permutations in $S_3$}

\begin{frame}{Avoidance of other permutations in $S_3$}
\begin{itemize}
\item
From the Flipping Lemma and Reversing Lemmas, the sequences $(s_n(213))$, $(s_n(132))$ and $(s_n(231))$ are the sequence of Catalan numbers as well.

\item
However, it is much harder to prove that the sequences $(s_n(123))$ and $(s_n(321))$ are the sequence of Catalan numbers.
\end{itemize}
\end{frame}

\section{Avoidance in $T_n$}

\begin{frame}{Avoidance in $T_n$}
\begin{definition}
Let $n=2m$. Then
\begin{align*}T_n= &\{\sigma \in S_n\, |\ 1,3,5,\ldots, 2n-1\text{ appear in increasing}\\ \ & \text{ order, and }2i\text{ is always to the right of 2i-1}\}.
\end{align*}
\end{definition}
\begin{example}
The set $T_2\subset S_2$ consists of the single permutation $12$.
\end{example}
\end{frame}

\begin{frame}
\begin{example}
The set $T_4\subset S_4$ consists of the permutations $1234, 1324,$ and $1342$.
\end{example}
\begin{example}
The set $T_6\subset S_6$ consists of the following permutations:
\begin{align*}
T_6=&\{
123564, 123456, 123546,
132564, 132456, 132546,\\
\ & 135264,  134256, 135246,
135624, 134526, 135426,\\
\ & 135642, 134562, 135462\}.
\end{align*}
\end{example}
\end{frame}

\begin{frame}
\begin{theorem}
Recall that $n=2m$. The set $T_n$ has size
\[\# T_n=1\cdot 3 \cdot 5 \cdot \ldots \cdot 2m-1.\]
\end{theorem}
\begin{proof}
\begin{enumerate}
\item $\# T_n$ given by the number of valid ways to insert $2, 4, \ldots, 2m$ into the sequence $1, 3, \ldots, 2m-1$.
\item Insert in reverse order: first $2m$, then $2m-2$, and so on.
\item Only one way to insert $2m$. Then three ways to insert $2m-2$. Then five ways to insert $2m-4$. Repeat... there are $2m-1$ ways to insert $2$.
\end{enumerate}
\end{proof}
\end{frame}

\begin{frame}
\begin{lemma}
Let $\sigma\in T_n$, and let $a, b\in \{1, 2, \ldots, n\}$ with $a$ to the left of $b$ in $\sigma$. If $a>b$, then $b$ is even.
\end{lemma}
\begin{proof}
Two possibilities for $a$:
\begin{itemize}
\item $a$ is odd. Then $b$ is not odd, as odd integers must appear in increasing order.
\item $a$ is even. Then 
\begin{itemize}
\item$a-1$ is to the left of $a$, so to the left of $b$
\item Since $a-1\geq b$, and $a-1\neq b$, we have $a-1> b.$
\end{itemize}
and we have reduced to the previous case.
\end{itemize}
\end{proof}
\end{frame}


\begin{frame}{Problem Statement}
\begin{definition}
Given a permutation $\pi\in S_k$, we define $t_n(\pi)$ as
\[t_n(\pi)=\#\{\sigma\in T_n\, | \ \sigma\text{ avoids } \pi\}.\]
\end{definition}
\begin{problem}
Let $\pi\in S_3$, and $n$ an arbitrary positive integer. Compute $t_n(\pi)$.
\end{problem}
\end{frame}

\begin{frame}
We can run code to compute $t_n(\pi)$ for small $n$ and for each $\pi\in S_3$. We get
\[\begin{tabular}{|c | c | c | c | c | c|}
\hline$\pi$ & $n=2$ & $n=4$ & $n=6$ & $n=8$ & $n=10$\\
\hline
123 & 1 & 0 & 0 & 0 & 0\\
\hline
132 & 1 & 1 & 1 & 1 & 1\\
\hline
213 & 1 & 2 & 4 & 8 & 16\\
\hline
231 & 1 & 2 & 4 & 8 & 16\\
\hline
312 & 1 & 3 & 12 & 55 & 273\\
\hline
321 & 1 & 3 & 12 & 55 & 273\\\hline
\end{tabular}\]
\end{frame}

\begin{frame}
\begin{itemize}
\item Easy to see that $t_n(123)=0$ when $n\geq 2$
\begin{itemize}
\item The subsequence 134 is always present in a permutation $\sigma\in t_n(123)$.
\end{itemize}
\item Also easy to see that $t_n(132)=1$. 
\begin{itemize}
\item The permutation $123\ldots (2n)$ is the only permutation in $T_n$ that avoids 132.
\end{itemize}
\item What about the other permutations in $S_3$?
\end{itemize}
\end{frame}

\begin{frame}
\begin{theorem}
Let $n=2m$. The total number of permutations in $T_n$ avoiding 231, $t_n(231)$, is equal to $2^{\frac{n}{2}-1}$.
\end{theorem}
\begin{proofwithoutbox}[Proof outline]
Fix an arbitrary $\sigma\in T_n$. Consider an arbitrary $2i\in\{1, 2, \ldots, n\}$, and define
\[A=\{a\in \{1, 2, \ldots, n\}\, | \ a > 2i \text{ and } a \text{ to the left of 2i}\}.\]
Proof steps:
\begin{itemize}
\item The set $A$ contains no even numbers.
\item The set $A$ contains no odd numbers greater than $2i+1$.
\item Any integer to the left of $2i$ must be less than $2i$, unless it is $2i+1$.
\end{itemize}
\end{proofwithoutbox}
\end{frame}

\begin{frame}
\begin{proof}[Proof outline (Continued).]
\begin{itemize}
\item Use induction to show that either 
\begin{itemize}
\item $2i$ is in the $2i$th position, with $2i+1$ in the $2i+1$st position, or
\item $2i+1$ is in the $2i$th position, with $2i$ in the $2i+1$st position.
\end{itemize}
\item Conclude that there are $2^{\frac{n}{2}-1}$ options for $\sigma$.
\end{itemize}
\end{proof}
\end{frame}

\begin{frame}{Other results and conjectures}
\begin{theorem}
The total number of permutations in $T_n$ avoiding 213, $t_n(213)$, is equal to $2^{\frac n 2-1}$.
\end{theorem}
\begin{theorem}
There exists a bijection between the set of permutations in $T_n$ avoiding 312 and the set of permutations in $T_n$ avoiding 321. As a consequence, $t_n(312)=t_n(321)$.
\end{theorem}
\begin{proofwithoutbox}[Conjecture]
The total number of permutations in $T_n$ avoiding 312 or 321, $t_n(312)$ and $t_n(321)$ respectively, is given by the equation $\binom{3n/2}{n/2}/(n+1)$.
\end{proofwithoutbox}
\end{frame}

\end{document}