\documentclass[12pt]{beamer}
\usepackage{tkz-graph}
\usepackage{fancyvrb}
\usepackage{amsmath}
\usetheme{Hannover}
\usecolortheme{whale}

\usepackage{verbatim}
\usetikzlibrary{arrows,shapes}
\usetikzlibrary{decorations.pathreplacing}

\makeatletter
\newenvironment<>{proofwithoutbox}[1][\proofname]{%
    \par
    \def\insertproofname{#1\@addpunct{.}}%
    \usebeamertemplate{proof begin}#2}
  {\usebeamertemplate{proof end}}
\makeatother

\title[Pattern avoidance]{Pattern avoidance}
\subtitle{An explanation and proof}
\author[Jain, Narayanan and Zhang]{Yajit Jain, Deepak Narayanan and Leon Zhang}
\date[November 2014]{November 19, 2014}

\RecustomVerbatimCommand{\VerbatimInput}{VerbatimInput}%
{fontsize=\tiny,
 commentchar=*        % comment character
}

\begin{document}

\pgfdeclarelayer{background}
\pgfsetlayers{background,main}

\tikzstyle{vertex}=[circle,fill=black!25,minimum size=20pt,inner sep=0pt]
\tikzstyle{selected vertex} = [vertex, fill=red!24]
\tikzstyle{completed vertex} = [vertex, fill=yellow]
\tikzstyle{edge} = [draw,thick,-]
\tikzstyle{weight} = [font=\small]
\tikzstyle{selected edge} = [draw,line width=5pt,-,red!50]
\tikzstyle{ignored edge} = [draw,line width=5pt,-,black!20]

\begin{frame}
  \titlepage
\end{frame}

\section{Introduction}

\begin{frame}
\setbeamercovered{transparent}
\uncover<1,2>{
A permutation of a finite set $\{1,\cdots,n\}$ is some \emph{ordering} of the elements.
}

\uncover<2>{
\begin{center}
54123 is a permutation of $\{1,2,3,4,5\}$. 
\end{center}
}

\

\uncover<3,4>{
$\color{red} a_n$ is the set of permutations on $\{1,\cdots,n\}$.
}

\uncover<4>{
$$54123\in S_5$$
}
\end{frame}

\begin{frame}

\begin{columns}
\begin{column}{0.3\textwidth}
\center\LARGE
54123
\end{column}

\begin{column}{0.7\textwidth}
\begin{column}{\columnwidth}
\begin{column}{0.3\columnwidth}
\centering
includes
\end{column}
\begin{column}{0.7\columnwidth}
$$
\left\{
	\begin{array}{ll}
123 \\
312\\
4312

	\end{array}
\right.
$$
\end{column}
\end{column}

\vspace{0.5cm}

\hrule

\vspace{0.5cm}

\begin{column}{\columnwidth}
\begin{column}{0.3\columnwidth}
\centering
avoids
\end{column}
\begin{column}{0.7\columnwidth}
$$
\left\{
	\begin{array}{ll}
132 \\
312\\
213\\
231\\
	\end{array}
\right.
$$
\end{column}
\end{column}
\end{column}


\end{columns}

\end{frame}

\begin{frame}
Let $\pi=312\in S_3$. 
\begin{itemize}
\item Question: How many permutations avoid $\pi$? {\color{red}  (a lot)}
\item Better Question: How many permutations in $a_n$ avoid $\pi$? 
\end{itemize}

\end{frame}

\begin{frame}{Let's count!}
\setbeamercovered{transparent}
\begin{itemize}
\uncover<1>{\item How many permutations in $S_1$ avoid $\pi$?} \uncover<2->{{\color{red}1}}
\item How many permutations in $S_2$ avoid $\pi$? {\color{red}2} 
\item How many permutations in $S_3$ avoid $\pi$? {\color{red}5}
\item How many permutations in $S_4$ avoid $\pi$? {\color{red}??????}
\end{itemize}
\end{frame}

\begin{frame}{Permutations in {\color{red}$S_4$} that avoid $\pi=312$?}
How many permutations in $S_4$ avoid $\pi$? {\color{red} 14}

\begin{center}
\begin{tabular}{c c c c c c}
{\color{green}1234} & {\color{green}1243} & {\color{green}1324} & {\color{green}1342} & 1423 & {\color{green}1432}\\[10pt]
{\color{green}2134} & {\color{green}2143} & {\color{green}2314} & {\color{green}2341} & 2413 & {\color{green}2431}\\[10pt]
3124 & 3142 & {\color{green}3214} & {\color{green}3241} & 3412 & {\color{green}3421}\\[10pt]
4123 & 4132 & 4213 & 4231 & 4312 & {\color{green}4321}
\end{tabular}
\end{center}
\end{frame}

\begin{frame}
\uncover<1->{
\begin{definition}
Let $a_n(\pi)$ be the number of permutations in $a_n$ that avoid $\pi$. 
\end{definition}
}

\

\uncover<2->{We want to compute the sequences $(a_n(\pi))$ for some $\pi\in S_k$. }

\


\uncover<3->{Example: $(a_n(312))=1,2,5,14,$}\uncover<4->{ 42,132,429,...}


\end{frame}

\begin{frame}{\color{red}Main Result}
\begin{Theorem}
For $\pi\in S_3$, $(a_n(\pi))$ is equal to the Catalan numbers:
$$
(a_n(\pi))=1,2,5,14,42,132,429...
$$
\end{Theorem}
\end{frame}



\begin{frame}{What if we take {\color{red}$\pi\in S_4$}?}

$$
(a_n(\pi))=\left\{
	\begin{array}{ll}
\uncover<1->{A:={\color{green} 1,2,6,23,103,512,2740,15485,91245\ldots}}\\
\uncover<2->{B:={\color{green}1,2,6,23,103,}{\color{red}513,2761,15767,94359\ldots}}\\
\uncover<3->{C:={\color{green}1,2,6,23,103,}{\color{red}513,}{\color{blue}2762,15793,94776\ldots}}
	\end{array}
\right\}
$$
\uncover<4->{
\begin{center}
????
\end{center}
}
\end{frame}














%%%%%%

\section{Avoidance in $a_n$}

\subsection{Avoidance of $312$}

\begin{frame}{Avoidance of $312$}
Let's first look at some examples of permutations that don't avoid $312$!
\pause
\begin{example}
\

\begin{tikzpicture}[
    implies/.style={double,double equal sign distance,-implies},
]
\onslide<2>{
  \node at (1,0) (num1) {1};
  \node at (1.5,0) (num2) {2};
  \node at (2,0) (num3) {6};
  \node at (2.5,0) (num4) {5};
  \node at (3,0) (num5) {3};
  \node at (3.5,0) (num6) {4};}

\onslide<3->{
  \node at (1,0) (num1) {1};
  \node at (1.5,0) (num2) {2};
  \node at (2,0) (num3) {\color{red}6};
  \node at (2.5,0) (num4) {5};
  \node at (3,0) (num5) {\color{red}3};
  \node at (3.5,0) (num6) {\color{red}4};
  
  \draw[implies,implies-] (5,0) -- (4,0);
  \node at (7.5,0) (description) {\text{$126534$} does not avoid $312$};}
\end{tikzpicture}

\end{example}

\begin{example}<4->
\

\begin{tikzpicture}[
    implies/.style={double,double equal sign distance,-implies},
]
\onslide<4>{
  \node at (1,0) (num1) {1};
  \node at (1.5,0) (num2) {5};
  \node at (2,0) (num3) {6};
  \node at (2.5,0) (num4) {3};
  \node at (3,0) (num5) {2};
  \node at (3.5,0) (num6) {4};}
 
\onslide<5->{
  \node at (1,0) (num1) {1};
  \node at (1.5,0) (num2) {\color{red}5};
  \node at (2,0) (num3) {6};
  \node at (2.5,0) (num4) {\color{red}3};
  \node at (3,0) (num5) {2};
  \node at (3.5,0) (num6) {\color{red}4};
  
  \draw[implies,implies-] (5,0) -- (4,0);
  \node at (7.5,0) (description) {\text{$156324$} does not avoid $312$};}
\end{tikzpicture}

\end{example}
\end{frame}

\begin{frame}{Avoidance of $312$}
How about some permutations that do avoid $312$?
\pause
\begin{example}
\

\begin{tikzpicture}[
    implies/.style={double,double equal sign distance,-implies},
]
\onslide<2->{
  \node at (1,0) (num1) {1};
  \node at (1.5,0) (num2) {2};
  \node at (2,0) (num3) {3};
  \node at (2.5,0) (num4) {6};
  \node at (3,0) (num5) {5};
  \node at (3.5,0) (num6) {4};}

\onslide<3->{
  
  \draw[implies,implies-] (5,0) -- (4,0);
  \node at (6.8,0) (description) {\text{$123654$ \color{green}{avoids} \color{black}$312$}};}
\end{tikzpicture}

\end{example}

\begin{example}<4->
\

\begin{tikzpicture}[
    implies/.style={double,double equal sign distance,-implies},
]
\onslide<4->{
  \node at (1,0) (num1) {2};
  \node at (1.5,0) (num2) {1};
  \node at (2,0) (num3) {4};
  \node at (2.5,0) (num4) {5};
  \node at (3,0) (num5) {6};
  \node at (3.5,0) (num6) {3};}

\onslide<5->{
  
  \draw[implies,implies-] (5,0) -- (4,0);
  \node at (6.8,0) (description) {\text{$214563$ \color{green}{avoids} \color{black}$312$}};}
\end{tikzpicture}

\end{example}
\end{frame}

\begin{frame}{Avoidance of $312$}
\textbf{Do the permutations that avoid $312$ have any special properties?}

\

\color{black}

\begin{tikzpicture}[
    implies/.style={double,double equal sign distance,-implies},
]
\onslide<2->{
  \node at (1,0) (num1) {1};
  \node at (2,0) (num2) {2};
  \node at (3,0) (num3) {3};
  \node at (4,0) (num4) {6};
  \node at (5,0) (num5) {5};
  \node at (6,0) (num6) {4};}
  
  \onslide<3->{
  \node at (1, -2) (desc1) {\text{All $< 4$, and avoid $312$}};
  \draw [decorate,decoration={brace,amplitude=5pt, mirror}] (1,-0.5) -- (3,-0.5);
  \draw[-latex] (2, -0.8) -- (desc1);
  \node at (6,0) (num6) {\color{blue}4};
  }
  
  \onslide<4->{
  \node at (6, -2) (desc2) {\text{All $> 4$, and avoid $312$}};  
  \draw [decorate,decoration={brace,amplitude=5pt, mirror}] (4,-0.5) -- (5,-0.5);
  \draw[-latex] (4.5, -0.8) -- (desc2);}

\end{tikzpicture}

\


\begin{tikzpicture}[
    implies/.style={double,double equal sign distance,-implies},
]
\onslide<5->{
 \node at (1,0) (num1) {2};
  \node at (2,0) (num2) {1};
  \node at (3,0) (num3) {4};
  \node at (4,0) (num4) {5};
  \node at (5,0) (num5) {6};
  \node at (6,0) (num6) {3};}
  
  \onslide<6->{
  \node at (1, -2) (desc1) {\text{All $< 3$, and avoid $312$}};
  \draw [decorate,decoration={brace,amplitude=5pt, mirror}] (1,-0.5) -- (2,-0.5);
   \draw[-latex] (1.5, -0.8) -- (desc1);
   \node at (6,0) (num6) {\color{blue}3};}
   
  \onslide<7->{
  \node at (6, -2) (desc2) {\text{All $> 3$, and avoid $312$}};
  \draw [decorate,decoration={brace,amplitude=5pt, mirror}] (3,-0.5) -- (5,-0.5);
  \draw[-latex] (4, -0.8) -- (desc2);}

\end{tikzpicture}

\end{frame}

\begin{frame}{Avoidance of $312$}
\textbf{What happens with permutations that don't have this property?}

\

\color{black}

\begin{tikzpicture}[
    implies/.style={double,double equal sign distance,-implies},
]
\onslide<2->{
  \node at (1,0) (num1) {1};
  \node at (2,0) (num2) {2};
  \node at (3,0) (num3) {6};
  \node at (4,0) (num4) {5};
  \node at (5,0) (num5) {3};
  \node at (6,0) (num6) {4};}
  
  \onslide<3->{
  \node at (1,0) (num1) {\color{blue}1};
  \node at (2,0) (num2) {\color{blue}2};
  \node at (5,0) (num5) {\color{blue}3};
  
  \node at (3,0) (num3) {\color{green}6};
  \node at (4,0) (num4) {\color{green}5};

  }
  
  \onslide<3->{
  \node at (1, -1) (desc1) {\text{All numbers $< 4$ in \color{blue}blue}};
  \node at (6, -1) (desc2) {\text{All numbers $> 4$ in \color{green}green}}; 
  }
  
  \onslide<4->{
  \draw[implies,implies-] (3.5,-2.6) -- (3.5,-1.5);
  
  \node at (1,-3) (num1) {1};
  \node at (2,-3) (num2) {2};
  \node at (3,-3) (num3) {\color{red}6};
  \node at (4,-3) (num4) {5};
  \node at (5,-3) (num5) {\color{red}3};
  \node at (6,-3) (num6) {\color{red}4};}
  
  \onslide<5->{
  \node at (3.5,-4) {\color{red}\text{Doesn't avoid $312$ anymore!}};
  }

\end{tikzpicture}

\end{frame}

\begin{frame}{Avoidance of $312$}
\begin{lemma}
The permutations of $\{1,2,\dots,k,k+1\}$ ending in $i$ that avoid the pattern $312$ are precisely those of the form,
$$\pi_1 \pi_2 i$$
the concatenation of $\pi_1, \pi_2$, and $i$, where $\pi_1$ is a permutation of $\{1,2,\ldots,i-1\}$ that avoids the pattern $312$ and $\pi_2$ is a permutation of $\{i+1,\ldots,k+1\}$ that avoids the pattern $312$.
\end{lemma}
\end{frame}


\begin{frame}{Avoidance of $312$}
\begin{definition}
The Catalan numbers are the sequence of positive integers $C_i$ defined as follows,
$$C_0=1, \, C_{n+1}=\sum_{i=0}^n C_iC_{n-i} \, \text{for} \; n \geq 0$$
\end{definition}
\end{frame}

\begin{frame}{Avoidance of $312$}
\begin{theorem}
The $n^{th}$ term of the sequence $a_n(312)$ is equal to $C_n$, the $n^{th}$ Catalan number, for $n>0$.
\end{theorem}
\end{frame}

\begin{frame}{Avoidance of $312$}
\begin{proof}
Assume that for all $i$ from $1$ to $k$, the number of permutations of $\{1,2,...,i\}$ that avoid $312$ is $C_i$.

It follows from the above lemma that the total number of permutations $\pi$ avoiding $312$ and ending in $i$ is
$$C_{i-1} \cdot C_{k-i+1}$$

Summing over all possible values of $i$, the total number of permutations of $\{1,2,...,k+1\}$ that avoid $312$ is equal to,
$$\sum_{i=1}^{k+1} C_{i-1} \cdot C_{k-i+1} = \sum_{i=0}^k C_i \cdot C_{k-i} = C_{k+1}$$
\end{proof}
\end{frame}

\subsection{The Reversing Lemma}

\begin{frame}{The Reversing Lemma}
\begin{definition}[Reversing]
We define the \emph{reverse} of a permutation $b_1\cdots b_n$ to be the permutation $b_n\cdots b_1$.  The reversing operator is denoted by $\mathcal{R}$.  
\end{definition}

\onslide<2->{
\begin{example}
$\mathcal{R}(1324)=4231$.
\end{example}
}

\onslide<3->{
\begin{example}
$\mathcal{R}(1243)=3421$.
\end{example}
}

\end{frame}

\begin{frame}{The Reversing Lemma}

\begin{lemma}[Reversing Lemma]
The permutation $\sigma$ avoids the permutation $\pi$ iff $\mathcal{R}(\sigma)$ avoids $\mathcal{R}(\pi)$.
\end{lemma}

\begin{corollary} 
For a permutation $\pi$, $a_n(\pi)=a_n(\mathcal{R}(\pi))$. 
\end{corollary}

\end{frame}

\subsection{The Flipping Lemma}

\begin{frame}{The Flipping Lemma}
\begin{definition}[Flipping]
We define the \emph{flip} of a sequence $b$ as the sequence $c$ with the same elements as $b$, but with the largest element swapped with the smallest element, the second largest element swapped with the second smallest element, etc.  The flipping operator is denoted by $\mathcal{F}$.  
\end{definition}

\end{frame}

\begin{frame}{The Flipping Lemma}

\onslide<1->{
\begin{example}
\begin{tikzpicture}[
    implies/.style={double,double equal sign distance,-implies},
]
  \node at (1,0) (num1) {1};
  \node at (2,0) (num2) {2};
  \node at (3,0) (num3) {3};
  \node at (4,0) (num4) {4};
  \draw (num1) edge[out=60,in=120,<->] (num4);
  \draw (num2) edge[out=60,in=120,<->] (num3);
  
  \node at (7,0) (num5) {4};
  \node at (8,0) (num6) {3};
  \node at (9,0) (num7) {2};
  \node at (10,0) (num8) {1};
  \draw[implies,implies-] (6,0) -- (5,0);
\end{tikzpicture}

$$\mathcal{F}(1234) = 4321$$

\end{example}
}

\onslide<2->{
\begin{example}
\begin{tikzpicture}[
    implies/.style={double,double equal sign distance,-implies},
]
  \node at (1,0) (num1) {1};
  \node at (2,0) (num2) {2};
  \node at (3,0) (num3) {4};
  \node at (4,0) (num4) {3};
  \draw (num1) edge[out=60,in=120,<->] (num3);
  \draw (num2) edge[out=60,in=120,<->] (num4);
  
  \node at (7,0) (num5) {4};
  \node at (8,0) (num6) {3};
  \node at (9,0) (num7) {1};
  \node at (10,0) (num8) {2};
  \draw[implies,implies-] (6,0) -- (5,0);
\end{tikzpicture}

$$\mathcal{F}(1243) = 4312$$

\end{example}
}

\end{frame}

\begin{frame}{The Flipping Lemma}

\begin{columns}
\begin{column}{.5\textwidth}
\begin{center}
\begin{tikzpicture}
\node at (0.5,5.7) (num1) {1};
\node at (1.5,5.7) (num2) {2};
\node at (2.5,5.7) (num3) {3};
\node at (3.5,5.7) (num4) {4};

\draw [->] (num1) -- (0.5,5.1);
\draw [->] (num2) -- (1.5,5.1);
\draw [->] (num3) -- (2.5,5.1);
\draw [->] (num4) -- (3.5,5.1);

\onslide<2->{
\node at (0.5,-0.7) (num5) {4};
\draw [->] (num5) -- (0.5,-0.1);

\filldraw[blue, draw=black] (0,0) rectangle (1,1);
\filldraw[blue, draw=black] (0,1) rectangle (1,2);
\filldraw[blue, draw=black] (0,2) rectangle (1,3);
\filldraw[blue, draw=black] (0,3) rectangle (1,4);
}

\onslide<3->{
\node at (1.5,-0.7) (num6) {3};
\draw [->] (num6) -- (1.5,-0.1);

\filldraw[blue, draw=black] (1,0) rectangle (2,1);
\filldraw[blue, draw=black] (1,1) rectangle (2,2);
\filldraw[blue, draw=black] (1,2) rectangle (2,3);
}

\onslide<4->{
\node at (2.5,-0.7) (num7) {2};
\draw [->] (num7) -- (2.5,-0.1);

\filldraw[blue, draw=black] (2,0) rectangle (3,1);
\filldraw[blue, draw=black] (2,1) rectangle (3,2);
}

\onslide<5->{
\node at (3.5,-0.7) (num8) {1};
\draw [->] (num8) -- (3.5,-0.1);

\filldraw[blue, draw=black] (3,0) rectangle (4,1);
}

\onslide<1->{
\filldraw[red, draw=black] (0,4) rectangle (1,5);
\filldraw[red, draw=black] (1,4) rectangle (2,5);
\filldraw[red, draw=black] (1,3) rectangle (2,4);
\filldraw[red, draw=black] (2,4) rectangle (3,5);
\filldraw[red, draw=black] (2,3) rectangle (3,4);
\filldraw[red, draw=black] (2,2) rectangle (3,3);
\filldraw[red, draw=black] (3,4) rectangle (4,5);
\filldraw[red, draw=black] (3,3) rectangle (4,4);
\filldraw[red, draw=black] (3,2) rectangle (4,3);
\filldraw[red, draw=black] (3,1) rectangle (4,2);}
\end{tikzpicture}
\end{center}
\onslide<6->{
$$
\mathcal{F}(1234) = 4321
$$
}
\end{column}
\begin{column}{.5\textwidth}
\begin{center}
\begin{tikzpicture}
\onslide<7->{
\node at (0.5,5.7) (num1) {1};
\node at (1.5,5.7) (num2) {2};
\node at (2.5,5.7) (num3) {4};
\node at (3.5,5.7) (num4) {3};

\draw [->] (num1) -- (0.5,5.1);
\draw [->] (num2) -- (1.5,5.1);
\draw [->] (num3) -- (2.5,5.1);
\draw [->] (num4) -- (3.5,5.1);
}

\onslide<8->{
\node at (0.5,-0.7) (num5) {4};
\draw [->] (num5) -- (0.5,-0.1);

\filldraw[blue, draw=black] (0,0) rectangle (1,1);
\filldraw[blue, draw=black] (0,1) rectangle (1,2);
\filldraw[blue, draw=black] (0,2) rectangle (1,3);
\filldraw[blue, draw=black] (0,3) rectangle (1,4);
}

\onslide<9->{
\node at (1.5,-0.7) (num6) {3};
\draw [->] (num6) -- (1.5,-0.1);

\filldraw[blue, draw=black] (1,0) rectangle (2,1);
\filldraw[blue, draw=black] (1,1) rectangle (2,2);
\filldraw[blue, draw=black] (1,2) rectangle (2,3);
}

\onslide<10->{
\node at (2.5,-0.7) (num7) {1};
\draw [->] (num7) -- (2.5,-0.1);

\filldraw[blue, draw=black] (2,0) rectangle (3,1);
}

\onslide<11->{
\node at (3.5,-0.7) (num8) {2};
\draw [->] (num8) -- (3.5,-0.1);


\filldraw[blue, draw=black] (3,1) rectangle (4,2);
\filldraw[blue, draw=black] (3,0) rectangle (4,1);
}

\onslide<7->{
\filldraw[red, draw=black] (0,4) rectangle (1,5);
\filldraw[red, draw=black] (1,4) rectangle (2,5);
\filldraw[red, draw=black] (1,3) rectangle (2,4);
\filldraw[red, draw=black] (2,4) rectangle (3,5);
\filldraw[red, draw=black] (2,3) rectangle (3,4);
\filldraw[red, draw=black] (2,2) rectangle (3,3);
\filldraw[red, draw=black] (2,1) rectangle (3,2);
\filldraw[red, draw=black] (3,4) rectangle (4,5);
\filldraw[red, draw=black] (3,3) rectangle (4,4);
\filldraw[red, draw=black] (3,2) rectangle (4,3);
}
\end{tikzpicture}
\end{center}
\onslide<12->{
$$
\mathcal{F}(1243) = 4312
$$
}
\end{column}
\end{columns}


\end{frame}

\begin{frame}{The Flipping Lemma}
\begin{lemma}[Flipping Lemma]
The permutation $\sigma$ avoids the permutation $\pi$ iff $\mathcal{F}(\sigma)$ avoids $\mathcal{F}(\pi)$.
\end{lemma}


\begin{corollary} 
For a permutation $\pi$, $a_n(\pi)=a_n(\mathcal{F}(\pi))$. 
\end{corollary}

\end{frame}

\subsection{Avoidance of other permutations in $S_3$}

\begin{frame}{Avoidance of other permutations in $S_3$}
\begin{itemize}
\item
From the Flipping Lemma and Reversing Lemmas, the sequences $(a_n(213))$, $(a_n(132))$ and $(a_n(231))$ are the sequence of Catalan numbers as well.

\item
However, it is much harder to prove that the sequences $(a_n(123))$ and $(a_n(321))$ are the sequence of Catalan numbers.
\end{itemize}
\end{frame}

\section{Conjectures on $S_4$}

\begin{frame}{Recall}

\[
(a_n(\pi))=\left\{
	\begin{array}{ll}
{A:={\color{green} 1,2,6,23,103,512,2740,15485,91245\ldots}}\\
{B:={\color{green}1,2,6,23,103,}{\color{red}513,2761,15767,94359\ldots}}\\
{C:={\color{green}1,2,6,23,103,}{\color{red}513,}{\color{blue}2762,15793,94776\ldots}}
	\end{array}
\right\}
\]

\end{frame}

\begin{frame}{Permutations in $S_4$}
\begin{center}
\begin{tabular}{c c c c c c}
{1234} & {1243} & {1324} & {1342} & 1423 & {1432}\\[10pt]
{2134} & {2143} & {2314} & {2341} & 2413 & {2431}\\[10pt]
3124 & 3142 & {3214} & {3241} & 3412 & {3421}\\[10pt]
4123 & 4132 & 4213 & 4231 & 4312 & {4321}
\end{tabular}
\end{center}
\end{frame}

\begin{frame}{Flipping and reversing buckets}

\[\{1243,4312,2134,3412\},\{2413,3142\},\]
\[\{1432,4123,2341,3214\},\{1234,4321\},\]
\[\{4132,1423,2314,3241\},\{2143,3412\},\]
\[\{4213,1342,3124,2431\},\{4231,1324\}\]
\end{frame}

\begin{frame}{Decomposition}
\[
(a_n(\pi))=\left\{
	\begin{array}{ll}
{A:={\color{green} 1,2,6,23,103,512,2740,15485,91245\ldots}}\\
{B:={\color{green}1,2,6,23,103,}{\color{red}513,2761,15767,94359\ldots}}\\
{C:={\color{green}1,2,6,23,103,}{\color{red}513,}{\color{blue}2762,15793,94776\ldots}}
	\end{array}
\right\}
\]

\begin{center}
\begin{tabular}{|c|c|c|}
B &A&C\\
\hline
1234, 4321&4132, 1423&4231, 1324\\
1243, 4312&4213, 1342&\\
1432, 4123&2431, 3124&\\
2134, 3421&2413, 3142&\\
2143, 3412&2314, 3241&\\
2341, 3214&&\\ %organize into orbits, move column A first
\end{tabular}
\end{center}

\end{frame}

\begin{frame}{Cycle notation}
Take $\sigma\in S_5$ with
$$
\sigma=\begin{pmatrix}
1&2&3&4&5\\
\downarrow&\downarrow&\downarrow&\downarrow&\downarrow&\\
4&5&2&1&3
\end{pmatrix}
$$

\

\

\

\begin{columns}
\begin{column}{.5\textwidth}
\centering{\underline{One-line Notation}}
$$
\sigma=45213
$$
\end{column}
\vrule{}
\begin{column}{.5\textwidth}
\centering{\underline{Cycle Notation}}
$$
\sigma=(14)(253)
$$
\end{column}
\end{columns}

\end{frame}


%%%%

\begin{frame}{Cycle Notation}
Take $\sigma\in S_5$ with
$$
\sigma=\begin{pmatrix}
1&2&3&4&5\\
\downarrow&\downarrow&\downarrow&\downarrow&\downarrow&\\
\color{red}4&\color{red}5&\color{red}2&\color{red}1&\color{red}3
\end{pmatrix}
$$

\

\

\

\begin{columns}
\begin{column}{.5\textwidth}
\centering{\underline{One-line Notation}}
\color{red}$$
\sigma=45213
$$
\end{column}
\vrule{}
\begin{column}{.5\textwidth}
\centering{\underline{Cycle Notation}}
$$
\sigma=(14)(253)
$$
\end{column}
\end{columns}

\end{frame}

%%%%%

\begin{frame}{Cycle Notation}
Take $\sigma\in S_5$ with
$$
\sigma=\begin{pmatrix}
1&2&3&4&5\\
\color{red}\downarrow&\downarrow&\downarrow&\color{red}\downarrow&\downarrow&\\
4&5&2&1&3
\end{pmatrix}
$$

\

\

\

\begin{columns}
\begin{column}{.5\textwidth}
\centering{\underline{One-line Notation}}
$$
\sigma=45213
$$
\end{column}
\vrule{}
\begin{column}{.5\textwidth}
\centering{\underline{Cycle Notation}}
$$
\sigma={\color{red}(14)}(253)
$$
\end{column}
\end{columns}

\end{frame}


%%%%%%

\begin{frame}{Cycle Notation}
Take $\sigma\in S_5$ with
$$
\sigma=\begin{pmatrix}
1&2&3&4&5\\
\color{red}\downarrow&\color{green}\downarrow&\color{green}\downarrow&\color{red}\downarrow&\color{green}\downarrow&\\
4&5&2&1&3
\end{pmatrix}
$$

\

\

\

\begin{columns}
\begin{column}{.5\textwidth}
\centering{\underline{One-line Notation}}
$$
\sigma=45213
$$
\end{column}
\vrule{}
\begin{column}{.5\textwidth}
\centering{\underline{Cycle Notation}}
$$
\sigma={\color{red}(14)}{\color{green}(253)}
$$
\end{column}
\end{columns}

\end{frame}

%%%%%%


\begin{frame}{Cycle decomposition}
\[
(a_n(\pi))=\left\{
	\begin{array}{ll}
{A:={\color{green} 1,2,6,23,103,512,2740,15485,91245\ldots}}\\
{B:={\color{green}1,2,6,23,103,}{\color{red}513,2761,15767,94359\ldots}}\\
{C:={\color{green}1,2,6,23,103,}{\color{red}513,}{\color{blue}2762,15793,94776\ldots}}
	\end{array}
\right\}
\]

\begin{center}
\begin{tabular}{|c|c|c|}
B &A&C\\
\hline
(1)(2)(3)(4),(14)(23)&(243),(142)&(23),(14)\\
(34),(1423)&(234),(143)&\\
(24),(1432)&(124),(132)&\\
(12),(1324)&(123),(134)&\\
(12)(34),(13)(24)&(1243),(1342)&\\
(1234),(13)&&\\ %organize table into orbits
\end{tabular}
\end{center}
\end{frame}

\section{Avoidance in $T_n$}

\begin{frame}{Avoidance in $T_n$}
\begin{definition}
Let $m$ be a positive integer. The set $T_{2m}$ is defined as all permutations in $S_{2m}$ such that:
\begin{itemize}
\item the odd numbers appear in increasing order,
\item each even number $2i$ appears to the right of $2i-1$.
\end{itemize}
\end{definition}
\begin{example}
The set $S_2$ equals $\{12, 21\}$. The set $T_2$ equals $\{12\}.$
\end{example}
\end{frame}

\begin{frame}{Permutations in $T_4$}
\begin{center}
\begin{tabular}{c c c c c c}
{\color {green}1234} & {\color{red}1243} & {\color{green}1324} & {\color{green}1342} & {\color{red}1423} & {\color{red}1432}\\[10pt]
{\color{red}2134} & {\color{red}2143} & {\color{red}2314} & {\color{red}2341} & {\color{red}2413} & {\color{red}2431}\\[10pt]
{\color{red}3124} & {\color{red}3142} & {\color{red}3214} & {\color{red}3241} & {\color{red}3412} & {\color{red}3421}\\[10pt]
{\color{red}4123} & {\color{red}4132} & {\color{red}4213} & {\color{red}4231} & {\color{red}4312} & {\color{red}4321}
\end{tabular}
\end{center}
\end{frame}

\begin{frame}{Problem Statement}
\begin{definition}
Given a permutation $\pi\in S_k$, we define $t_m(\pi)$ as
\[t_m(\pi)=\#\{\sigma\in T_{2m}\, | \ \sigma\text{ avoids } \pi\}.\]
\end{definition}
\begin{problem}
Let $\pi\in S_3$, and $m$ an arbitrary positive integer. Compute $t_m(\pi)$.
\end{problem}
\end{frame}

\begin{frame}
We can run code to compute $t_m(\pi)$ for small $m$ and for each $\pi\in S_3$. We get
\[\begin{tabular}{|c | c | c | c | c | c|}
\hline$\pi$ & $m=2$ & $m=4$ & $m=6$ & $m=8$ & $m=10$\\
\hline
\hline
123 & 1 & 0 & 0 & 0 & 0\\
\hline
\hline
132 & 1 & 1 & 1 & 1 & 1\\
\hline
\hline
213 & 1 & 2 & 4 & 8 & 16\\
\hline
231 & 1 & 2 & 4 & 8 & 16\\
\hline
\hline
312 & 1 & 3 & 12 & 55 & 273\\
\hline
321 & 1 & 3 & 12 & 55 & 273\\\hline
\end{tabular}\]
\end{frame}

\begin{frame}
\begin{itemize}
\item Easy to see that $t_n(123)=0$ when $n\geq 2$
\begin{itemize}
\item The subsequence 134 is always present in a permutation $\sigma\in t_n(123)$.
\end{itemize}
\item Also easy to see that $t_n(132)=1$. 
\begin{itemize}
\item The permutation $123\ldots (2n)$ is the only permutation in $T_n$ that avoids 132.
\end{itemize}
\end{itemize}
\end{frame}

\end{document}